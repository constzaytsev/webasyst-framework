<div class="sidebar d-sandbox-column bordered-right">
    <form action="" method="post" class="block fields form width100px" id="d-form-create">
        {$wa->csrf()}
        <div class="field-group">
            <div class="field">
                <div class="name">[`Category`]</div>
                <div class="value">
                    <select name="product" id="d-product-category" required>
                        <option value=""></option>
                        <option value="plugin">[`Plugin`]</option>
                        <option value="systemplugin">[`System plugin`]</option>
                        <option value="theme">[`Theme`]</option>
                        <option value="widget">[`Widget`]</option>
                        <option value="systemwidget">[`System widget`]</option>
                        <option value="app">[`Application`]</option>
                    </select>
                </div>
            </div>
            
            <div class="field hide-all show-systemplugin">
                <div class="name">[`Type`]</div>
                <div class="value">
                    <select name="type">
                        <option value=""></option>
                        <option value="shipping">[`Shipping`]</option>
                        <option value="payment">[`Payment`]</option>
                        <option value="sms">SMS</option>
                    </select>
                </div>
            </div>
            
            <div class="field hide-all show-plugin show-theme show-widget">
                <div class="name">[`Application`]</div>
                <div class="value">
                    <select name="app_id" id="d-product-app">
                        <option value=""></option>
                        {foreach $apps as $app_id => $app}
                        <option value="{$app_id}" data-themes="{!empty($app['themes'])}" data-plugins="{!empty($app['plugins'])}">{$app['name']|escape}</option>
                        {/foreach}
                    </select>
                </div>
            </div>
            
            <div class="field">
                <div class="name">ID</div>
                <div class="value">
                    <input name="id" type="text" id="d-product-id" required>
                </div>
            </div>
            
            <div class="field">
                <div class="name">[`Name`]</div>
                <div class="value">
                <input name="name" type="text" class="long" required>
                </div>
            </div>
            
            <div class="field">
                <div class="name">[`Description`]</div>
                <div class="value">
                <input name="description" type="text" class="long">
                </div>
            </div>
            
            <div class="field hide-all show-plugin">
                <div class="name">[`DB config`]</div>
                <div class="value">
                    <input name="db" type="checkbox" value="1">
                    <div class="hint">[`Create config for tables with prefix 'application_plugin_'.`]</div>
                </div>
            </div>
            
            <div class="field hide-theme hide-app">
                <div class="name">[`Settings`]</div>
                <div class="value no-shift">
                <input name="settings" type="checkbox" value="1">
                </div>
            </div>
            
            <div class="field hide-theme">
                <div class="name">[`Locales`]</div>
                <div class="value no-shift">
                    <input name="locale" type="checkbox" value="1">
                </div>
            </div>
            
            <div class="field hide-all show-plugin show-app">
                <div class="name">[`Frontend`]</div>
                <div class="value no-shift">
                    <input name="frontend" type="checkbox" value="1">
                </div>
            </div>
            <!-- @todo
            <div class="field hide-theme">
                <div class="name">[`Requirements`]</div>
                <div class="value no-shift">
                    <input name="requirements" type="checkbox" value="1">
                </div>
            </div>

            <div class="field hide-all show-plugin">
                <div class="name">[`Install`]/[`Uninstall`]</div>
                <div class="value no-shift">
                    <input name="install" type="checkbox" value="1">
                </div>
            </div>
            -->
            <div class="field">
                <div class="name">[`Icon`]</div>
                <div class="value">
                    <div id="d-product-icons">
                    {foreach $icons as $icon}
                        <label class="product-icon">
                            <input type="radio" name="img" value="{$icon}"{if $icon@first} checked{/if}>
                            <img src="{$wa_app_static_url}img/icons/{$icon}" alt="">
                        </label>
                    {/foreach}
                    </div>
                </div>
            </div>
        </div>
        
        <div class="field">
            <div class="value submit">
            <input type="submit" class="button green" value="[`Create`]">
            <span class="hint"> [`Alt+Enter`]</span>
            </div>
        </div>
    </form>
    <div class="clear-left"></div>
</div>

<div class="sidebar d-sandbox-column">
    <div class="block">
        <div class="d-header"><h2>[`Result`]</h2></div>
    </div>
    <div class="block" id="d-create-result"></div>
    <div class="clear-left"></div>
</div>

<div class="clear"></div>

{wa_js file="js/compiled/developer-create.js"}
    {$wa_url}wa-content/js/jquery-wa/wa.core.js
    {$wa_app_static_url}js/create.js
{/wa_js}